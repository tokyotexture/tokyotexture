---
layout: post
title: "Jekyll &amp; S3"
category: posts
description: "A tutorial on getting Jekyll set up with AWS S3 for highly available and cheap blogging"
modified: 2014-05-07 06:15:53 +0000
comments: true
tags: [jekyll, aws]
image:
  feature: 2014-05-07/jekyll_AWS.jpg
  credit: 
  creditlink: 
share: 
---
<section id="table-of-contents" class="toc">
  <header>
    <h3>Contents</h3>
  </header>
<div id="drawer" markdown="1">
*  Auto generated table of contents
{:toc}
</div>
</section><!-- /#table-of-contents -->

I've been using wordpress on again and off again for many years now, but I was ready to try something new. One of the main drivers for trying something new was [Amazon S3](http://aws.amazon.com/s3/). For those of you not familiar with S3, it is

* **Secure**
S3 is an object storage, and you store static content in it. In other words, SQL injections etc which something like Wordpress brings along just isn't possible.
* **Reliable**
99.99999999999% durability and 99.99% availability. No single point of failure. Yes please!
* **Scalable**
Can scale in terms of storage and request rate.
* **Inexpensive**
You only pay for what you use, and as of writing the storage fee in Tokyo is now about 3.3Yen/GB. That is *cheap*.

So as long as my content is static, S3 would be a godsend, as it would fix all the aspects I don't like about LAMP type setups like Wordpress.

![Jekyll Logo]({{ site.url }}/images/2014-05-07/jekyll-logo.png)
{: .image-pull-right; width: 100px;}

That's when my love story with 

## Setup

### Prerequisites

Some things you will need before we get started.

* An [AWS](http://aws.amazon.com) account.
If you don't already have an account, you can sign up for free, and get a [1 year free usage tier](http://aws.amazon.com/free/). As of writing, 5GB of S3 space, and 15GB of outbound traffic is included for free, which should mean that you can host a smaller blog for free using this guide.
* A machine with Ruby installed.
If you are running OS X you will already have this installed. Personally I just spun up an Ubuntu EC2 instance on AWS, but that is outside the scope of this blog post.
* *Optionally* have a domain name, such as `tokyotexture.com`, ready.

### Configuring Jekyll locally
First of all, we will need to install Jekyll. I will use a theme called [minimal mistakes](http://mmistakes.github.io/minimal-mistakes/), which is what this particular blog happens to run, as a starting line. 

#### Installing Jekyll
1. Install [bundler](http://bundler.io) by running `gem install bundler`.
2. Get minimal mistakes latest source, `wget https://github.com/mmistakes/minimal-mistakes/archive/master.zip`. For those of you familiar with github, feel free to clone instead.
3. Unzip and change directory to the unzipped minimal mistakes theme folder.
4. Install jekyll by running `bundle install` from the theme folder. Bundler will look at the `Gemfile` in that folder and figure out what gems are needed and install accordingly.

Ok, so you made it this far, which means you are done installing Jekyll. But first let's check that things are working as intended.

#### Basic Jekyll configuration and testing
1. From within the theme folder, run `sudo bundle exec jekyll serve`. Running this command will user bundler to execute `jekyll` with the `serve` parameter. This will create a very basic web server.
2. Now verify that it is serving up something at `http://localhost:4000`. Hopefully it is serving up something at this point.

Now you can start configuring `_config.yml`, looking at the files in the `_posts/` folder to figure out the syntax etc.

### Deployment

